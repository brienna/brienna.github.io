<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1" />


	<title>Java uses only "pass by value" · briennakh</title>


<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@briennakh" />
<meta name="twitter:title" content="Java uses only "pass by value"" />
<meta name="twitter:description" content="There are two ways to pass objects, by reference or by value. To pass by reference means that you pass the reference. To pass by value means that you pass a copy of the reference.">

<meta name="description" content="There are two ways to pass objects, by reference or by value. To pass by reference means that you pass the reference. To pass by value means that you pass a ...">


	<meta name="google-site-verification" content="epFgX0s_0RM3CdjwFcsewfXzPov2g8s9ZBOLyaIUH-o">


<link rel="icon" href="/assets/favicon.png">
<link rel="apple-touch-icon" href="/assets/touch-icon.png">
<link rel="stylesheet" href="/assets/core.css">
<link rel="canonical" href="/notes/java-passes-by-value">
<link rel="alternate" type="application/atom+xml" title="briennakh" href="/feed.xml" />




<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


	</head>

	<body>

		<aside class="logo">

	

	<a href="/">
		<img src="http://www.gravatar.com/avatar/a1874522e5d9bff764e068c928f0e3c0.png?s=80" class="gravatar">
	</a>
	<span class="logo-prompt">Back to Home</span>

</aside>


		<main>
			<article>

	<div class="center">
		<h1>Java uses only "pass by value"</h1>
		<time>October 4, 2017</time>
	</div>

	<div class="divider"></div>

	<p>There are two ways to pass objects, by reference or by value. To pass by reference means that you pass the reference. To pass by value means that you pass a copy of the reference.</p>

<p>Java passes by value, but this is often misunderstood. An excerpt from “Big Java” (p. 337):</p>

<blockquote>
  <p>You will sometimes read in Java books that “numbers are passed by value, objects are passed by reference.” That is technically not quite correct. In Java, objects themselves are never passed as parameters; instead, both numbers and <em>object references</em> are passed by value.</p>
</blockquote>

<p>I had thought I understood the difference between the two ways of passing objects, but understanding it as a fact is different than understanding it in practice. Today I found myself stuck on an ISTE200 homework assignment because I tried to do something that isn’t possible with pass by value.</p>

<p>I was working on a class with several setter methods. Each setter receives an index and, if it is valid, sets an instance variable to refer to the String object found at the index of the specified array.</p>

<p>to set as an instance variable if it is a valid index in a specified array.</p>

<p>For example, <code class="highlighter-rouge">setEngine</code> and <code class="highlighter-rouge">setLoad</code>:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">setEngine</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">ENGINES</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">engine</span> <span class="o">=</span> <span class="n">ENGINES</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>  
    <span class="o">}</span> 
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLoad</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">LOADS</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">load</span> <span class="o">=</span> <span class="n">LOADS</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
    <span class="o">}</span> 
<span class="o">}</span>
</code></pre>
</div>

<p>Both setters are similar, so I wanted to see if I could write a generic setter that receives the instance variable as a parameter:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">setVariable</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">String</span><span class="o">[]</span> <span class="n">list</span><span class="o">,</span> <span class="n">String</span> <span class="n">var</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">list</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">list</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>  
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>It didn’t work. <code class="highlighter-rouge">var</code> got set, but the instance variables stayed as they were.</p>

<p>Why? <strong><code class="highlighter-rouge">var</code> is a copy of a reference, not the reference itself</strong>. The instance variable stores a reference to a String object. When I pass the instance variable to <code class="highlighter-rouge">setVariable</code>, I am assigning <code class="highlighter-rouge">var</code> a copy of that reference. At this moment, the instance variable and <code class="highlighter-rouge">var</code> both refer to the same object. <code class="highlighter-rouge">LOADS[index]</code>, however, stores a reference to a different object. So when I write <code class="highlighter-rouge">var = LOADS[index]</code>, I am replacing the reference <code class="highlighter-rouge">var</code> currently stores with a new one. Now the instance variable and <code class="highlighter-rouge">var</code> no longer refer to the same object. This is why the instance variable doesn’t get updated. With pass by value, a Java method can update an object’s state, but it can’t <em>replace</em> the contents of an object reference.</p>

<p>And in this particular situation I happen to be passing a String reference. A String is immutable, meaning that there are no methods in its public API that I can call to update its state. Possible solutions are to instead pass a StringBuilder or a wrapper class containing the String reference.</p>


    <!--DISQUS-->
    
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
        this.page.url = "http://briennakh.github.io/notes/java-passes-by-value";
        this.page.identifier = "/notes/java-passes-by-value"; 
        };
        
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://briennakh-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                          
    

</article>




<div class="page-navigation">
	
		<a class="home" href="/" title="Back to Homepage">Home</a>
  
		<span> &middot; </span>
    <a class="prev" href="/notes/installing-and-using-mysql" title="PREV: Setting up and using MySQL on MacOS">&gt;&gt;</a>
  
</div>

		</main>

		<div class="footer">
  <span class="block">&lt;/&gt; <a href="http://github.com/heiswayi/the-plain" title="a minimalist Jekyll theme for personal blog">The Plain theme</a> by <a href="http://heiswayi.github.io">Heiswayi Nrird</a>.</span>
  <span class="block">&copy; 2017 Brienna Herold</span>
</div>


	</body>

</html>
